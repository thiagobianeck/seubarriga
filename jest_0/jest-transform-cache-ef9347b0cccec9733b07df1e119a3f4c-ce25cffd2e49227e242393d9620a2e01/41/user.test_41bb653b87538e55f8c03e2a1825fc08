dd4ec033199577fe3dcc012cb9349d63
const request = require('supertest');

const app = require('../../src/app');

test('Deve listar todos os usuários', () => {
    return request(app).get('/users').then(res => {
        expect(res.status).toBe(200);
        expect(res.body.length).toBeGreaterThan(0);
    });
});

test('Deve inserir usuário com sucesso ', () => {
    const mail = `${Date.now()}@mail.com`;
    return request(app).post('/users').send({ name: "Walter Mitty", mail, passwd: "123456" }).then(res => {
        expect(res.status).toBe(201);
        expect(res.body.name).toBe('Walter Mitty');
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIudGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImFwcCIsInRlc3QiLCJnZXQiLCJ0aGVuIiwicmVzIiwiZXhwZWN0Iiwic3RhdHVzIiwidG9CZSIsImJvZHkiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJtYWlsIiwiRGF0ZSIsIm5vdyIsInBvc3QiLCJzZW5kIiwibmFtZSIsInBhc3N3ZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBVUMsUUFBUSxXQUFSLENBQWhCOztBQUVBLE1BQU1DLE1BQU1ELFFBQVEsZUFBUixDQUFaOztBQUVBRSxLQUFLLCtCQUFMLEVBQXNDLE1BQU07QUFDeEMsV0FBUUgsUUFBUUUsR0FBUixFQUFhRSxHQUFiLENBQWlCLFFBQWpCLEVBQ1BDLElBRE8sQ0FDRkMsT0FBTztBQUNUQyxlQUFPRCxJQUFJRSxNQUFYLEVBQW1CQyxJQUFuQixDQUF3QixHQUF4QjtBQUNBRixlQUFPRCxJQUFJSSxJQUFKLENBQVNDLE1BQWhCLEVBQXdCQyxlQUF4QixDQUF3QyxDQUF4QztBQUNILEtBSk8sQ0FBUjtBQUtILENBTkQ7O0FBUUFULEtBQUssbUNBQUwsRUFBMEMsTUFBTTtBQUM1QyxVQUFNVSxPQUFRLEdBQUVDLEtBQUtDLEdBQUwsRUFBVyxXQUEzQjtBQUNBLFdBQU9mLFFBQVFFLEdBQVIsRUFBYWMsSUFBYixDQUFrQixRQUFsQixFQUNOQyxJQURNLENBQ0QsRUFBRUMsTUFBTSxjQUFSLEVBQXdCTCxJQUF4QixFQUE4Qk0sUUFBUSxRQUF0QyxFQURDLEVBRU5kLElBRk0sQ0FFQUMsR0FBRCxJQUFTO0FBQ1hDLGVBQU9ELElBQUlFLE1BQVgsRUFBbUJDLElBQW5CLENBQXdCLEdBQXhCO0FBQ0FGLGVBQU9ELElBQUlJLElBQUosQ0FBU1EsSUFBaEIsRUFBc0JULElBQXRCLENBQTJCLGNBQTNCO0FBQ0gsS0FMTSxDQUFQO0FBTUgsQ0FSRCIsImZpbGUiOiJ1c2VyLnRlc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJ0ZXN0Jyk7XG5cbmNvbnN0IGFwcCA9IHJlcXVpcmUoJy4uLy4uL3NyYy9hcHAnKTtcblxudGVzdCgnRGV2ZSBsaXN0YXIgdG9kb3Mgb3MgdXN1w6FyaW9zJywgKCkgPT4ge1xuICAgIHJldHVybiAgcmVxdWVzdChhcHApLmdldCgnL3VzZXJzJylcbiAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICBleHBlY3QocmVzLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgICBleHBlY3QocmVzLmJvZHkubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSlcbn0pO1xuXG50ZXN0KCdEZXZlIGluc2VyaXIgdXN1w6FyaW8gY29tIHN1Y2Vzc28gJywgKCkgPT4ge1xuICAgIGNvbnN0IG1haWwgPSBgJHtEYXRlLm5vdygpfUBtYWlsLmNvbWA7XG4gICAgcmV0dXJuIHJlcXVlc3QoYXBwKS5wb3N0KCcvdXNlcnMnKVxuICAgIC5zZW5kKHsgbmFtZTogXCJXYWx0ZXIgTWl0dHlcIiwgbWFpbCwgcGFzc3dkOiBcIjEyMzQ1NlwifSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50b0JlKDIwMSk7XG4gICAgICAgIGV4cGVjdChyZXMuYm9keS5uYW1lKS50b0JlKCdXYWx0ZXIgTWl0dHknKTtcbiAgICB9KVxufSk7Il19